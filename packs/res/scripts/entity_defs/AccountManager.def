<Root>
	<Properties>
		<!--	Globally registered name. -->
		<name>
			<Type>			STRING			</Type>
			<Flags>			BASE			</Flags>
			<Default>		AccountManager	</Default>
			<Identifier>	true			</Identifier>
			<Persistent>	true			</Persistent>
		</name>

		<!--	The map of IDs to objects.
		-->
		<online> 
			<Type>ARRAY <of>ONLINENODE</of></Type>
			<Flags>			BASE			</Flags>
			<Default>		{}				</Default>
			<Persistent>	false			</Persistent>
		</online>
		<queue> 
			<Type>ARRAY <of>MAILBOX</of></Type>
			<Flags>			BASE			</Flags>
			<Persistent>	false			</Persistent>
		</queue>
	</Properties>

	<BaseMethods>

		<SendMail>
			<Arg> ARRAY <of>ENTITY_ID</of> </Arg><!-- target talker entities IDs -->
			<Arg> INT32 </Arg><!-- Message ID generated by sender's client -->
			<Arg> INT32 </Arg><!-- Mail Kind -->
			<Arg> UNICODE_STRING </Arg><!-- Text -->
			<Arg> INT32 </Arg><!-- From Kind -->
			<Arg> INT32 </Arg><!-- From ID -->
			<Arg> UNICODE_STRING </Arg><!-- From Name -->
		</SendMail>
		
		<webGetOnlineList>
			<!-- The search criteria. use empty string for full list -->
			<Arg> 			STRING 			</Arg>
			<ReturnValues>
				<response>
					ARRAY <of> PYTHON </of>
				</response>
				<success> 			BOOL 		</success>
				<errMsg> 			STRING 		</errMsg>
			</ReturnValues>
		</webGetOnlineList>
		
		<webAwakeAvatar>
			<Arg> 			STRING 			</Arg>
			<ReturnValues>
				<success> 			BOOL 		</success>
				<errMsg> 			STRING 		</errMsg>
			</ReturnValues>
		</webAwakeAvatar>

		<webAction>
			<Arg> 			STRING 			</Arg>
			<Arg> 			STRING 			</Arg>
			<ReturnValues>
				<response>
					ARRAY <of> PYTHON </of>
				</response>
				<success> 			BOOL 		</success>
				<errMsg> 			STRING 		</errMsg>
			</ReturnValues>
		</webAction>
		
		<getOnlineList>
		</getOnlineList>
		
		<getOnlineCount>
		</getOnlineCount>
		
		<playerAvatarLogin>
			<Arg> 			MAILBOX 		</Arg> <!-- Account entity/mailbox -->
			<Arg> 			MAILBOX 		</Arg> <!-- Avatar entity/mailbox -->
			<Arg> 			STRING 			</Arg> <!-- account name -->
			<Arg> 			UNICODE_STRING	</Arg> <!-- avatar name -->
			<Arg> 			ENTITY_ID 		</Arg> <!-- avatar Id -->
			<Arg> 			INT64 			</Arg> <!-- current IP address -->
		</playerAvatarLogin>
			
		<playerAvatarLogout>
			<Arg> 			ENTITY_ID 			</Arg> <!-- avatar Id -->
		</playerAvatarLogout>

		<setNewMaxOnline>
			<Arg> 			INT32 			</Arg> <!-- new online -->
		</setNewMaxOnline>

		<cleanup>
		</cleanup>
		
		<enterAccountQueue>
			<Arg> 			MAILBOX 		</Arg> <!-- Account entity/mailbox -->
		</enterAccountQueue>
		
		<leaveAccountQueue>
			<Arg> 			MAILBOX 		</Arg> <!-- Account entity/mailbox -->
		</leaveAccountQueue>
	</BaseMethods>

	<!-- No cell methods. -->
	<CellMethods/>

	<!-- No client methods. (yet) -->
	<ClientMethods/>
</Root>
